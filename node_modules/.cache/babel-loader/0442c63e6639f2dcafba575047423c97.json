{"ast":null,"code":"import { useMutation, useQuery } from 'react-query';\nimport { api } from '../../service/api';\nexport const queryPokemons = () => {\n  var _s = $RefreshSig$(),\n      _s2 = $RefreshSig$();\n\n  const getAll = callBack => {\n    _s();\n\n    const {\n      data,\n      error\n    } = useQuery('pokemons/all', () => api.get(`/pokemon/?limit=500&offset=500`).then(res => res.data), {\n      keepPreviousData: true\n    });\n    return {\n      data,\n      error\n    };\n  };\n\n  _s(getAll, \"jnKEiAG78WqeE0AS5/bjUCg4uK4=\", false, function () {\n    return [useQuery];\n  });\n\n  const getPaginated = (pageParam, callBack) => {\n    _s2();\n\n    const {\n      data,\n      error\n    } = useMutation('pokemons/paginated', () => api.get(`/pokemon/?limit=20&offset=${20 * pageParam}`).then(res => res.data));\n    return {\n      data,\n      error\n    };\n  };\n\n  _s2(getPaginated, \"JW0cef6IzIzI6mPgnykF3Pvm1WM=\", false, function () {\n    return [useMutation];\n  });\n\n  return {\n    getPaginated,\n    getAll\n  };\n};","map":{"version":3,"sources":["/Users/santiagosouza/poc-context-struct/src/hooks/query/queryPokemons.ts"],"names":["useMutation","useQuery","api","queryPokemons","getAll","callBack","data","error","get","then","res","keepPreviousData","getPaginated","pageParam"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,QAAtB,QAAsC,aAAtC;AACA,SAASC,GAAT,QAAoB,mBAApB;AA4BA,OAAO,MAAMC,aAAa,GAAG,MAAM;AAAA;AAAA;;AACjC,QAAMC,MAAM,GAAIC,QAAD,IAAkD;AAAA;;AAC/D,UAAM;AAAEC,MAAAA,IAAF;AAAQC,MAAAA;AAAR,QAAkBN,QAAQ,CAC9B,cAD8B,EAE9B,MACEC,GAAG,CACAM,GADH,CAC2B,gCAD3B,EAEGC,IAFH,CAESC,GAAD,IAASA,GAAG,CAACJ,IAFrB,CAH4B,EAM9B;AACEK,MAAAA,gBAAgB,EAAE;AADpB,KAN8B,CAAhC;AAWA,WAAO;AAAEL,MAAAA,IAAF;AAAQC,MAAAA;AAAR,KAAP;AACD,GAbD;;AADiC,KAC3BH,MAD2B;AAAA,YAEPH,QAFO;AAAA;;AAgBjC,QAAMW,YAAY,GAAG,CACnBC,SADmB,EAEnBR,QAFmB,KAGhB;AAAA;;AACH,UAAM;AAAEC,MAAAA,IAAF;AAAQC,MAAAA;AAAR,QAAkBP,WAAW,CAAC,oBAAD,EAAuB,MACxDE,GAAG,CACAM,GADH,CAC2B,6BAA4B,KAAKK,SAAU,EADtE,EAEGJ,IAFH,CAESC,GAAD,IAASA,GAAG,CAACJ,IAFrB,CADiC,CAAnC;AAKA,WAAO;AAAEA,MAAAA,IAAF;AAAQC,MAAAA;AAAR,KAAP;AACD,GAVD;;AAhBiC,MAgB3BK,YAhB2B;AAAA,YAoBPZ,WApBO;AAAA;;AA4BjC,SAAO;AACLY,IAAAA,YADK;AAELR,IAAAA;AAFK,GAAP;AAID,CAhCM","sourcesContent":["import { useMutation, useQuery } from 'react-query'\nimport { api } from '../../service/api'\n\nexport type ReturnOBJ = {\n  name: string\n  url: string\n}\n\nexport interface PaginatedResponse {\n  count: number\n  next?: string\n  previous?: string\n  results: ReturnOBJ[]\n}\n\nexport type QueryResponse<T> = {\n  data: T | undefined\n  error: unknown\n}\nexport interface QueryPokemonsTypes {\n  getPaginated: (\n    pageParam?: number,\n    callBack?: (data: PaginatedResponse) => void\n  ) => QueryResponse<PaginatedResponse>\n  getAll: (\n    callBack?: (data: PaginatedResponse) => void\n  ) => QueryResponse<ReturnOBJ[]>\n}\n\nexport const queryPokemons = () => {\n  const getAll = (callBack?: (data: PaginatedResponse) => void) => {\n    const { data, error } = useQuery(\n      'pokemons/all',\n      () =>\n        api\n          .get<PaginatedResponse>(`/pokemon/?limit=500&offset=500`)\n          .then((res) => res.data),\n      {\n        keepPreviousData: true\n      }\n    )\n\n    return { data, error }\n  }\n\n  const getPaginated = (\n    pageParam: number,\n    callBack?: (data: PaginatedResponse) => void\n  ) => {\n    const { data, error } = useMutation('pokemons/paginated', () =>\n      api\n        .get<PaginatedResponse>(`/pokemon/?limit=20&offset=${20 * pageParam}`)\n        .then((res) => res.data)\n    )\n    return { data, error }\n  }\n\n  return {\n    getPaginated,\n    getAll\n  } as QueryPokemonsTypes\n}\n"]},"metadata":{},"sourceType":"module"}