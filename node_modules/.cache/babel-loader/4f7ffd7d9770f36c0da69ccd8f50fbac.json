{"ast":null,"code":"import _defineProperty from\"/Users/santiagosouza/poc-context-struct/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _toConsumableArray from\"/Users/santiagosouza/poc-context-struct/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/santiagosouza/poc-context-struct/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/santiagosouza/poc-context-struct/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{createContext,useCallback,useContext,useMemo,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";var PageContext=/*#__PURE__*/createContext({});export var usePage=function usePage(){return useContext(PageContext);};export var PageContextWrapper=function PageContextWrapper(_ref){var children=_ref.children;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),entities=_useState2[0],setEntities=_useState2[1];// Set entities value\nvar dispatchData=useCallback(function(entity,data,options){if(options!==null&&options!==void 0&&options.keepLast&&entities[entity]&&entities[entity].length>0){return setEntities(function(cur){return _objectSpread(_objectSpread({},cur),{},_defineProperty({},entity,[].concat(_toConsumableArray(cur[entity]),_toConsumableArray(data))));});}return setEntities(function(cur){return _objectSpread(_objectSpread({},cur),{},_defineProperty({},entity,data));});},[entities]);var ctxValue=useMemo(function(){return{dispatchData:dispatchData,entities:entities};},[dispatchData,entities]);return/*#__PURE__*/_jsx(PageContext.Provider,{value:ctxValue,children:children});};","map":{"version":3,"sources":["/Users/santiagosouza/poc-context-struct/src/context/PageContext/PageContext.tsx"],"names":["React","createContext","useCallback","useContext","useMemo","useState","PageContext","usePage","PageContextWrapper","children","entities","setEntities","dispatchData","entity","data","options","keepLast","length","cur","ctxValue"],"mappings":"6fAAA,MAAOA,CAAAA,KAAP,EACEC,aADF,CAEEC,WAFF,CAGEC,UAHF,CAIEC,OAJF,CAKEC,QALF,KAMO,OANP,C,2CA6BA,GAAMC,CAAAA,WAAW,cAAGL,aAAa,CAAC,EAAD,CAAjC,CAEA,MAAO,IAAMM,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,SAAMJ,CAAAA,UAAU,CAACG,WAAD,CAAhB,EAAhB,CAEP,MAAO,IAAME,CAAAA,kBAA4B,CAAG,QAA/BA,CAAAA,kBAA+B,MAAkB,IAAfC,CAAAA,QAAe,MAAfA,QAAe,CAC5D,cAAgCJ,QAAQ,CACtC,EADsC,CAAxC,wCAAOK,QAAP,eAAiBC,WAAjB,eAIA;AACA,GAAMC,CAAAA,YAAY,CAAGV,WAAW,CAC9B,SACEW,MADF,CAEEC,IAFF,CAGEC,OAHF,CAMK,CACH,GACEA,OAAO,OAAP,EAAAA,OAAO,SAAP,EAAAA,OAAO,CAAEC,QAAT,EACAN,QAAQ,CAACG,MAAD,CADR,EAEAH,QAAQ,CAACG,MAAD,CAAR,CAAiBI,MAAjB,CAA0B,CAH5B,CAIE,CACA,MAAON,CAAAA,WAAW,CAAC,SAACO,GAAD,wCACdA,GADc,wBAEhBL,MAFgB,8BAEHK,GAAG,CAACL,MAAD,CAFA,qBAEaC,IAFb,MAAD,CAAlB,CAID,CACD,MAAOH,CAAAA,WAAW,CAAC,SAACO,GAAD,wCACdA,GADc,wBAEhBL,MAFgB,CAEPC,IAFO,IAAD,CAAlB,CAID,CAtB6B,CAuB9B,CAACJ,QAAD,CAvB8B,CAAhC,CA0BA,GAAMS,CAAAA,QAAQ,CAAGf,OAAO,CACtB,iBAAO,CACLQ,YAAY,CAAZA,YADK,CAELF,QAAQ,CAARA,QAFK,CAAP,EADsB,CAKtB,CAACE,YAAD,CAAeF,QAAf,CALsB,CAAxB,CAOA,mBACE,KAAC,WAAD,CAAa,QAAb,EAAsB,KAAK,CAAES,QAA7B,UAAwCV,QAAxC,EADF,CAGD,CA1CM","sourcesContent":["import React, {\n  createContext,\n  useCallback,\n  useContext,\n  useMemo,\n  useState\n} from 'react'\nimport { ReturnOBJ } from '../../hooks/query/queryPokemons'\n\ndeclare interface EntitiesType {\n  pokemons: ReturnOBJ\n  student: string\n}\n\ndeclare type EntitiesOBJType = {\n  [Property in keyof EntitiesType]-?: EntitiesType[Property][]\n}\n\ninterface PageContextTypes {\n  entities: EntitiesOBJType\n  dispatchData: (\n    entity: keyof EntitiesType,\n    data: EntitiesType[keyof EntitiesType][],\n    options?: {\n      keepLast?: boolean\n    }\n  ) => void\n}\n\nconst PageContext = createContext({} as PageContextTypes)\n\nexport const usePage = () => useContext(PageContext)\n\nexport const PageContextWrapper: React.FC = ({ children }) => {\n  const [entities, setEntities] = useState<EntitiesOBJType>(\n    {} as EntitiesOBJType\n  )\n\n  // Set entities value\n  const dispatchData = useCallback(\n    (\n      entity: keyof EntitiesType,\n      data: EntitiesType[keyof EntitiesType][],\n      options?: {\n        keepLast?: boolean\n      }\n    ) => {\n      if (\n        options?.keepLast &&\n        entities[entity] &&\n        entities[entity].length > 0\n      ) {\n        return setEntities((cur) => ({\n          ...cur,\n          [entity]: [...cur[entity], ...data]\n        }))\n      }\n      return setEntities((cur) => ({\n        ...cur,\n        [entity]: data\n      }))\n    },\n    [entities]\n  )\n\n  const ctxValue = useMemo(\n    () => ({\n      dispatchData,\n      entities\n    }),\n    [dispatchData, entities]\n  )\n  return (\n    <PageContext.Provider value={ctxValue}>{children}</PageContext.Provider>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}